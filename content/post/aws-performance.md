+++
date = "2016-05-12T09:20:18+01:00"
draft = false
title = "Linux performance and troubleshooting handbook"
tags = ["linux", "performance", "troubleshooting"]

+++

## AWS
### ELB
* latency (seconds): Time elapsed after the request leaves the load balancer until a response is received.
* healthy_host_count (hosts): Number of healthy instances in each AZ.
* httpcode_elb_5xx (responses/second): Number of requests that fail at the load balancer level. Any other values indicates an issue with the ELB itself, e.g. too many inbound requests.
* surge_queue_length (requests/second): measures the length of the queue that holds inbound requests waiting to be dispatched. That queue length should stay near 0 or requests are waiting in the ELB to be dispatched.
<!-- * spillover_count (requests/second): measures the number of requests that had to be rejected by the ELB because the SurgeQueueLength had reach a maximum. -->
* httpcode_backend_5xx (responses/second): Number of HTTP 5XX response codes generated by registered instances.
* httpcode_backend_2xx (responses/second): Number of HTTP 2XX response codes generated by registered instances.

**Little's law**
The long-term average number of customers in a stable system L is equal to the long-term average effective arrival rate, λ, multiplied by the (Palm‑)average time a customer spends in the system, W; or expressed algebraically: L = λW.
```json
{
  "events": [],
  "requests": [
    {
      "q": "aws.elb.latency{name:$ELB_NAME}*sum:aws.elb.request_count{name:$ELB_NAME}"
    }
  ],
  "viz": "timeseries"
}
```
